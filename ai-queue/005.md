<!-- auto-queue -->
# Create DatePicker and DateRangePicker Components

## Problem

The design system is missing date selection components. DatePicker and DateRangePicker are fundamental form components needed in nearly every application.

## Design Reference

Follow shadcn/ui's date picker pattern: an Input-like trigger that opens a calendar popover.

## Important Constraints

Per `AI_CONSTITUTION.md` §2.1: No business logic, no API calls, no external data dependencies. These components must be pure presentation.

Per `AI_CONSTITUTION.md` §2.4: No over-engineering. Keep the implementation simple and conventional.

**Do NOT add any third-party date libraries** (no date-fns, no dayjs, no luxon). Use native `Date` objects. The formatting and logic should be minimal — consumers can bring their own date library.

## Required Implementation

### 1. Create `packages/components/DatePicker/DatePicker.tsx`

**Sub-components (compound pattern):**
- `DatePicker` (root) — Manages the popover state, wraps Calendar + Trigger
- Internal: `Calendar` — Month grid with day cells
- Internal: `CalendarHeader` — Month/year display with prev/next navigation

**Props:**
```ts
interface DatePickerProps {
  value?: Date
  defaultValue?: Date
  onValueChange?: (date: Date | undefined) => void
  placeholder?: string
  label?: string
  helperText?: string
  error?: boolean
  errorMessage?: string
  disabled?: boolean
  size?: 'sm' | 'md' | 'lg'
  minDate?: Date
  maxDate?: Date
  locale?: string  // for day/month names (Intl.DateTimeFormat)
}
```

**Visual design:**
- **Trigger**: Looks like an Input with a calendar icon on the right. Uses the same styling as the Input component (`InputFrame`-like wrapper with border, border radius, focus styles).
- **Popover/Dropdown**: A floating card (use existing Dialog/Popover patterns or a simple absolutely-positioned box) containing the calendar grid.
- **Calendar grid**: 7 columns (Sun-Mon-Tue-Wed-Thu-Fri-Sat), rows for weeks of the month.
- **Day cells**: Square buttons. Current date has subtle indicator. Selected date has solid background (`$color10` bg, `$color1` text). Hover shows `$backgroundHover`. Disabled dates (outside min/max) are dimmed.
- **Month navigation**: Left/right arrows to change month. Month name + year displayed in center.
- Use `Intl.DateTimeFormat` for locale-aware day and month names.

**Calendar logic (no external deps):**
- Compute days in month, first day of week offset
- Navigate months with prev/next buttons
- Clicking a day calls `onValueChange` and closes the popover
- Support controlled and uncontrolled modes via `value`/`defaultValue`

### 2. Create `packages/components/DatePicker/DateRangePicker.tsx`

**Props:**
```ts
interface DateRangePickerProps {
  value?: { start: Date; end: Date } | undefined
  defaultValue?: { start: Date; end: Date }
  onValueChange?: (range: { start: Date; end: Date } | undefined) => void
  placeholder?: string
  label?: string
  helperText?: string
  error?: boolean
  errorMessage?: string
  disabled?: boolean
  size?: 'sm' | 'md' | 'lg'
  minDate?: Date
  maxDate?: Date
  locale?: string
}
```

**Visual design:**
- Trigger shows "Start date - End date" or placeholder
- Calendar shows two months side-by-side (or stacked on small screens)
- First click selects start date, second click selects end date
- Dates between start and end are highlighted with a range background
- If user clicks a date before the current start, it resets the selection

### 3. Create barrel exports

- `packages/components/DatePicker/index.ts` — Export both DatePicker and DateRangePicker

### 4. Add to component exports

- `packages/components/index.ts` — Add DatePicker, DateRangePicker
- `src/index.ts` — Add to Layer 3 exports

### 5. Add kitchen-sink demos

In `examples/kitchen-sink/src/pages/ComponentsPage.tsx`, add sections for:
- **DatePicker**: Default, with label, error state, disabled, min/max date constraints
- **DateRangePicker**: Default, with label, showing a selected range

### 6. Popover/floating positioning

For the calendar dropdown, you have a few options:
- **Option A**: Use the existing `Dialog` component in a non-modal mode
- **Option B**: Use a simple `View` with `position: 'absolute'` and `zIndex`
- **Option C**: Use the `Popover` from `@tamagui/popover` if available

Option B is simplest and avoids external dependencies. Just position the calendar below the trigger with `position: 'absolute'`, `top: '100%'`, `left: 0`.

## Verification

- Build must pass: `yarn build`
- TypeScript check: `yarn typecheck` (only pre-existing v2 RC errors)
- Visually inspect in kitchen-sink — calendar should open, dates should be selectable
- Keyboard: arrow keys to navigate days, Enter to select, Escape to close

## Files to Create

- `packages/components/DatePicker/DatePicker.tsx`
- `packages/components/DatePicker/DateRangePicker.tsx`
- `packages/components/DatePicker/index.ts`

## Files to Modify

- `packages/components/index.ts`
- `src/index.ts`
- `examples/kitchen-sink/src/pages/ComponentsPage.tsx`

## Constraints

- Read `AI_CONSTITUTION.md` and `DESIGN_CONSTITUTION.md` before starting
- NO external date libraries — native Date + Intl only
- No hardcoded colors — use only theme tokens
- Must work in light and dark modes
- Must be accessible (keyboard nav, aria-label on calendar, aria-selected on days)
- Add `// @ts-expect-error Tamagui v2 RC` where needed
- Use `as const` on variants objects
- Keep it simple — this is a design system component, not a full calendar app
