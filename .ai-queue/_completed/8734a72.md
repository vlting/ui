<!-- auto-queue -->
# Commit History
- 6c73409 fix(components): Drawer handle logic, HoverCard gap, and Tooltip offset
- 8734a72 fix(components): Drawer handle, HoverCard positioning, Tooltip offset (#005)

# 005 — Drawer Handle Logic + HoverCard Positioning + Tooltip Offset

## Objective

Three component-level fixes:
1. **Drawer**: Remove drag handle unless the drawer is draggable to resize or the user is on mobile.
2. **HoverCard**: Content should be positioned relative to the trigger element.
3. **Tooltip**: Tooltips are too far from their trigger — fix at the component lib level.

## Context

### Drawer
- `Drawer.tsx` currently renders `HandleBar` unconditionally for vertical directions (`bottom`/`top`): `{isVertical && <HandleBarJsx />}`.
- The handle implies drag-to-resize, but no drag behavior exists. It's misleading on desktop.
- Handle should only appear if: (a) the drawer is draggable/resizable, or (b) the user is on a touch/mobile device.

### HoverCard
- `HoverCard.tsx` uses `position: relative` on Root and `position: absolute` on Content.
- Content positioning via `SIDE_STYLES` (top/bottom offsets from `100%`) and `ALIGN_STYLES` (left/center/end).
- If Root wraps more than just the trigger, or if Root has unexpected sizing, the Content won't position correctly relative to the trigger.

### Tooltip
- `Tooltip.tsx` sets `sideOffset = 4` by default (4px from trigger).
- The user reports tooltips are "waaay too far" — but 4px is actually very close. This suggests the issue may be a different offset, padding, or margin in the Tamagui Tooltip.Content or a mismatch in what `sideOffset` actually controls.
- Investigate the actual rendered distance. If 4px is truly too small, increase it. If it's unexpectedly large, check for extra padding/margin in Content or the arrow.

## Tasks

### Drawer Handle

1. **In `packages/components/Drawer/Drawer.tsx`**:
   - Add a `showHandle?: boolean` prop to `DrawerContentProps` (or `DrawerRootProps`).
   - Default `showHandle` to `false` on desktop, `true` on mobile/touch.
   - For mobile detection, use a simple heuristic: check `window.matchMedia('(pointer: coarse)')` or a media query approach. Alternatively, check if Tamagui's media queries expose touch detection.
   - Only render `<HandleBarJsx />` when `showHandle` is true.
   - Ensure existing consumers aren't broken — if someone explicitly passes `showHandle={true}`, always show it.

### HoverCard Positioning

2. **In `packages/components/HoverCard/HoverCard.tsx`**:
   - Ensure the Root container (`position: relative`) tightly wraps ONLY the Trigger element.
   - The Content (which is `position: absolute`) should be positioned relative to the Root/Trigger.
   - Check that Root is `display: inline-flex` or `display: inline-block` so it doesn't stretch to full width (which would misalign the content).
   - If Root is currently `display: flex` or `display: block`, change it so the positioning anchor is the trigger's actual bounding box.
   - Test with triggers of varying widths (icon button vs. full-width element) to confirm content stays near the trigger.

### Tooltip Offset

3. **In `packages/components/Tooltip/Tooltip.tsx`**:
   - Investigate the actual rendered gap between tooltip and trigger. Read how Tamagui's `sideOffset` is applied — it may stack with padding, margin, or arrow size.
   - If the tooltip has excessive padding, margin, or the arrow creates extra space, reduce those.
   - If `sideOffset=4` is genuinely too close and the user perceives it as too far due to a rendering bug, fix the rendering.
   - If the tooltip truly needs a different default offset, adjust it (likely to `6` or `8`).
   - Check whether the Tooltip.Content has `padding` or other spacing that adds to the visual distance.
   - Ensure the fix works for all 4 sides (top, bottom, left, right).

4. **Test** all three fixes across brands, themes, and viewport sizes.

## Scope

- `packages/components/Drawer/Drawer.tsx`
- `packages/components/HoverCard/HoverCard.tsx`
- `packages/components/Tooltip/Tooltip.tsx`
