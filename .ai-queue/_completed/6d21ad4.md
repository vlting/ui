<!-- auto-queue -->
<!-- target-branch: fix/quality-audit -->

# Commit History
- `db82997` fix(components): resolve TypeScript errors in component source files
- `6d21ad4` merge into fix/quality-audit

# Fix TypeScript Errors in Component Source Files

Fix all TypeScript errors in component `.tsx` source files (NOT test files) and run Biome formatting on them.

## Context

The errors fall into several categories:
- **TS2322 (234 total across project)**: Tamagui v2 RC `GetFinalProps` bug — token values in styled() variants resolve to `undefined`. Fix: add `// @ts-expect-error Tamagui v2 RC` before the styled() call.
- **TS2578 (31 total across project)**: Unused @ts-expect-error directives — the comment exists but no error beneath it. Fix: remove the unnecessary comment.
- **TS6133 (4 total)**: Unused imports (e.g., `TamaguiButtonProps`, `styledHtml` in Button.tsx). Fix: remove unused imports.
- **TS2352 (2 total)**: Accordion cast pattern — `as ComponentType<...>` conversion may be a mistake. Fix: use `as unknown as ComponentType<...>` for double-cast.

## Scope

Files to create or modify (component source files ONLY — no test files):
- `packages/components/Accordion/Accordion.tsx`
- `packages/components/Alert/Alert.tsx`
- `packages/components/AlertDialog/AlertDialog.tsx`
- `packages/components/Avatar/Avatar.tsx`
- `packages/components/Button/Button.tsx`
- `packages/components/Card/Card.tsx`
- `packages/components/ContextMenu/ContextMenu.tsx`
- `packages/components/DatePicker/DatePicker.tsx`
- `packages/components/DatePicker/DateRangePicker.tsx`
- `packages/components/Input/Input.tsx`
- `packages/components/Pagination/Pagination.tsx`
- `packages/components/Popover/Popover.tsx`
- `packages/components/Tabs/Tabs.tsx`
- `packages/components/Textarea/Textarea.tsx`
- `packages/components/Toast/Toast.tsx`

## Instructions

For each file listed above:

1. **Read the file** to understand its current state.
2. **Run `npx tsc --noEmit 2>&1 | grep "<filename>"` to identify exact errors**.
3. **For TS2322 errors**: Add `// @ts-expect-error Tamagui v2 RC` on the line BEFORE the `styled()` call. If a file already has `@ts-expect-error` on the styled() call but still shows TS2322, verify it's positioned correctly (must be on the line immediately before the error source).
4. **For TS2578 errors**: Remove the unnecessary `@ts-expect-error` comment. These appear when a `@ts-expect-error` exists but the line beneath it doesn't actually produce a TS error.
5. **For TS6133 errors** (Button.tsx): Remove unused imports (`TamaguiButtonProps`, `styledHtml`, etc.).
6. **For TS2352 errors** (Accordion.tsx): Change the cast pattern from:
   ```ts
   const X = TamaguiAccordion as ComponentType<Record<string, unknown>>
   ```
   to:
   ```ts
   const X = TamaguiAccordion as unknown as ComponentType<Record<string, unknown>>
   ```
7. **Run Biome formatting** on each file after fixing TS errors. You can run biome on individual files:
   ```bash
   npx biome check --write packages/components/Accordion/Accordion.tsx
   ```
   Or on the entire directory (but ONLY source files, not test files — to avoid scope conflicts):
   ```bash
   for f in packages/components/*/[A-Z]*.tsx; do npx biome check --write "$f"; done
   ```

### Special Cases

**Button.tsx**: Has the most errors (~40 TS2322). The styled() call at line ~11 has deeply nested variants with hoverStyle, pressStyle, and focusVisibleStyle — all producing TS2322. A single `@ts-expect-error` before the `styled()` call should suppress the first error, but you may need one per styled() call in the file.

**Accordion.tsx**: Has both TS2322 (styled variants) AND TS2352 (cast pattern). Fix both.

**AlertDialog.tsx**: Has Biome formatting issues (long line wrapping) but may not have TS errors. Still run biome --write on it.

After all files are fixed:

8. **Verify**: Run `npx tsc --noEmit 2>&1 | grep "packages/components"` — should return 0 errors.
9. **Verify**: Run biome check on all modified files — should return 0 errors.

## Important Notes

- Do NOT modify test files (*.test.tsx) — those are handled by segment 003.
- Do NOT change any runtime behavior — only TypeScript directive comments, unused import removal, cast fixes, and formatting.
- Some styled() calls may have MULTIPLE errors within them. A single `@ts-expect-error` before the `styled()` call only suppresses the first error on the immediate next line. If the styled() call itself is on the next line, that one comment should suffice. But if there are multiple separate styled() calls in the file, each needs its own `@ts-expect-error`.

## Verification

- [ ] `npx tsc --noEmit 2>&1 | grep "packages/components"` returns no errors from the files listed in Scope
- [ ] `npx biome check <each file>` returns no errors for all files in Scope
- [ ] No unused @ts-expect-error comments (no TS2578)
- [ ] No unused imports (no TS6133)
- [ ] No functional changes

## Task Progress
<!-- lat: 2026-02-26T05:23:49Z -->
<!-- agent-pid: 52795 -->
<!-- worktree: .worktrees/q-002 -->
<!-- branch: q/002 -->

### Checklist
- [x] Create worktree from fix/quality-audit
- [x] Fix TS errors in Accordion.tsx
- [x] Fix TS errors in Alert.tsx
- [x] Fix TS errors in AlertDialog.tsx (no errors — only has styled casts)
- [x] Fix TS errors in Avatar.tsx
- [x] Fix TS errors in Button.tsx
- [x] Fix TS errors in Card.tsx
- [x] Fix TS errors in ContextMenu.tsx
- [x] Fix TS errors in DatePicker.tsx + DateRangePicker.tsx
- [x] Fix TS errors in Input.tsx
- [x] Fix TS errors in Pagination.tsx
- [x] Fix TS errors in Popover.tsx
- [x] Fix TS errors in Tabs.tsx
- [x] Fix TS errors in Textarea.tsx
- [x] Fix TS errors in Toast.tsx
- [x] Run Biome formatting on all modified files
- [x] Verify: tsc --noEmit shows 0 component errors
- [ ] Verify: biome check shows 0 errors (pre-existing lint rules not in scope)
- [ ] **ACTIVE** → Commit, rebase, merge, archive

### Handoff Context
- Target branch: fix/quality-audit
- TS2322: Tamagui v2 RC GetFinalProps bug → @ts-expect-error before styled()
- TS2578: Unused @ts-expect-error → remove
- TS6133: Unused imports in Button.tsx → remove
- TS2352: Accordion cast pattern → double-cast via `as unknown as`
