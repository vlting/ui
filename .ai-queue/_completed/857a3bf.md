# Commit History

- `122765e` feat(dating): revamp dating module for Kinship pod-based concept
- `857a3bf` feat(dating): merge dating module revamp — Kinship pod-based concept

---

# Task 004 — Dating Module Re-evaluation + Example App + PRD

## Overview

The current `src/dating/` module was scaffolded around a Tinder-style swiping paradigm. The product concept has fundamentally changed. This task has three parts:

1. **Re-evaluate** the existing dating scaffolds against the new product concept
2. **Create** a new example app at `examples/dating/` (config + structure only, no page implementations)
3. **Write** a product requirements document (PRD) at `examples/dating/PRODUCT.md`

---

## Part 1 — Re-evaluate Existing Dating Scaffolds

### Current scaffolds (12 components)

| Component | Verdict | Rationale |
|-----------|---------|-----------|
| `SwipeDeck` | **REMOVE** | No swiping in this concept |
| `SwipeCard` | **REMOVE** | No swiping in this concept |
| `BoostBadge` | **REMOVE** | Tinder-specific pay-to-win feature; not in this concept |
| `SuperLikeIndicator` | **REMOVE** | Tinder-specific feature; not in this concept |
| `MatchCard` | **KEEP** | Still needed — displays a matched connection |
| `MatchList` | **KEEP** | Still needed — lists persistent matches/connections |
| `ProfilePreviewCard` | **KEEP** | Useful for viewing pod member profiles |
| `DatingProfileEditor` | **KEEP** | Still needed for profile setup |
| `InterestSelector` | **KEEP** | Critical — interests drive pod placement algorithm |
| `PhotoGalleryUploader` | **KEEP** | Still needed for profile photos |
| `LocationRadiusSelector` | **KEEP** | Geographic proximity still relevant for pod matching |
| `BlockUserModal` | **KEEP** | Safety feature — always needed |

### Action items

- Remove the 4 components marked REMOVE from `src/dating/` (delete directories and barrel exports)
- Add the new components listed in Part 3 below as stubs (following existing scaffold patterns)
- Update `src/dating/index.ts` barrel exports accordingly

### New components to scaffold in `src/dating/`

These are the components the PRD identifies as needed that don't already exist. Scaffold them as stubs following the existing v2/scaffold patterns (simple `styled(YStack, {})` or compound `withStaticProperties` as appropriate).

| Component | Pattern | Description |
|-----------|---------|-------------|
| `PodView` | compound (`PodView.Header`, `PodView.MemberGrid`, `PodView.Activity`, `PodView.Countdown`) | Main weekly pod container — the central hub of the app |
| `PodMemberCard` | compound (`PodMemberCard.Photo`, `PodMemberCard.Name`, `PodMemberCard.Bio`, `PodMemberCard.MatchButton`) | Individual member tile within a pod |
| `PodCountdown` | simple + behavioral TODO | Timer/progress showing when current pod expires |
| `IceBreakerCard` | compound (`IceBreakerCard.Prompt`, `IceBreakerCard.ResponseList`, `IceBreakerCard.Input`) | Daily ice-breaker topic display + response area |
| `QuizCard` | compound (`QuizCard.Question`, `QuizCard.Options`, `QuizCard.Results`) | Daily fun quiz display + voting |
| `ActivityThread` | compound (`ActivityThread.Header`, `ActivityThread.Messages`, `ActivityThread.Input`) | Threaded conversation for ice-breaker and quiz interactions |
| `MatchRequestButton` | simple + behavioral TODO | Button to send/cancel a match request to a pod member |
| `MatchRequestBadge` | simple | Visual indicator of match status (none / pending / mutual) |
| `WeekEndReview` | compound (`WeekEndReview.MemberList`, `WeekEndReview.MatchPrompt`, `WeekEndReview.Summary`) | End-of-week UI prompting user to match with pod members |
| `DirectMessageThread` | compound (`DirectMessageThread.Header`, `DirectMessageThread.Messages`, `DirectMessageThread.Input`) | DM conversation with a pod member |
| `ConversationList` | simple | List of active DM conversations |
| `ConnectionCard` | compound (`ConnectionCard.Photo`, `ConnectionCard.Name`, `ConnectionCard.LastMessage`) | Card for a persistent matched connection |
| `ConnectionList` | simple | List of persistent post-match connections |
| `PreferenceEditor` | compound (`PreferenceEditor.AgeRange`, `PreferenceEditor.Interests`, `PreferenceEditor.Location`, `PreferenceEditor.DealBreakers`) | Comprehensive preference/filter editor for pod placement |
| `AgeRangeSelector` | simple + behavioral TODO | Dual-handle range slider for age preferences |
| `DealBreakerSelector` | simple + behavioral TODO | Multi-select for must-have / must-not-have traits |
| `PodIntro` | compound (`PodIntro.Welcome`, `PodIntro.Members`, `PodIntro.FirstActivity`) | Introduction screen shown when a new weekly pod forms |
| `SafetyReportModal` | simple + behavioral TODO | Report a user for inappropriate behavior |

---

## Part 2 — Create Example App Skeleton

Create `examples/dating/` following the exact same structure as `examples/volta/`:

### Files to create

```
examples/dating/
├── index.html
├── package.json
├── tsconfig.json
├── vite.config.ts
└── src/
    ├── main.tsx
    ├── router.tsx
    └── theme/
        └── datingBrand.ts
```

### Specifics

**`package.json`**
- Name: `@vlting/examples-dating`
- Same dependency structure as volta (`@vlting/ui`, `react-router-dom`, `tamagui`)
- Same devDependencies (vite, typescript, react types, plugin-react)

**`vite.config.ts`**
- Identical to volta (react plugin + react-native-web alias)

**`tsconfig.json`**
- Identical to volta (same path aliases pointing to `../../src/`)

**`index.html`**
- Same template; title: `"Kinship — Meet your people"`

**`src/main.tsx`**
- Same pattern as volta: `TamaguiProvider` wrapping `RouterProvider`, theme context for light/dark switching
- Import brand config from `./theme/datingBrand`

**`src/router.tsx`**
- Define routes but use **placeholder components** (just a `<YStack><Text>Page Name</Text></YStack>` for each)
- Routes (based on PRD — see Part 3):
  - `/` — Home (current pod view)
  - `/pod` — Pod detail view
  - `/pod/icebreaker` — Today's ice-breaker activity
  - `/pod/quiz` — Today's quiz activity
  - `/pod/member/:id` — Pod member profile
  - `/messages` — DM conversation list
  - `/messages/:id` — DM thread
  - `/connections` — Persistent matches/connections list
  - `/connections/:id` — Connection profile
  - `/week-review` — End-of-week matching prompt
  - `/profile` — Your own profile editor
  - `/preferences` — Preference/filter editor
  - `/onboarding` — Onboarding flow

**`src/theme/datingBrand.ts`**
- Create a warm, approachable brand palette (think warm coral/salmon accent, soft neutral base)
- Name the brand `kinship` (working name for the app — see PRD)
- Follow the same `BrandDefinition` structure as volta with 12-step light/dark palettes
- Neutral palette: warm gray/taupe undertone (not cool slate like volta)
- Accent palette: warm coral (#FF6B6B range) — inviting, warm, non-aggressive
- Appropriate shadows, radius (more rounded than volta — friendly feel), and animation config

---

## Part 3 — Write Product Requirements Document

Create `examples/dating/PRODUCT.md` with the following PRD content. The agent should write this as a complete, well-structured markdown document covering everything below.

### App name (working title): **Kinship**

### Tagline: *"Meet your people."*

### Core concept

Kinship is a dating app that rejects the infinite-swipe paradigm. Instead of swiping through endless profiles, each week you're placed in a small group — a **"pod"** — of 8 people (4 who match your preferred gender, 4 of your gender, including you). For that week, the pod is your temporary micro-community.

The thesis: **meaningful connections form through shared experiences, not snap judgments on photos.** By interacting in a small group setting with daily activities, you see how people think, joke, and express themselves — before deciding if you want to connect one-on-one.

### How it works

1. **Pod formation (weekly, e.g. every Monday)**
   - Algorithm considers: age range preferences, interests, location, deal-breakers, and mutual filter compatibility
   - Each pod has 8 members: 4 who match your preferred gender, 4 of your own gender (including you) — for heterosexual users. (The model generalizes to other configurations.)
   - You cannot be in a pod with someone you've previously been podded with (unless both opt in to a "reunion" feature — stretch goal)

2. **Daily activities**
   - Each day, the pod receives:
     - **Ice-breaker prompt**: An open-ended question or discussion topic (e.g., "What's a hill you'll die on?", "Describe your ideal lazy Sunday"). All pod members can respond, and everyone sees responses.
     - **Quiz**: A fun, light multiple-choice quiz (e.g., "Which of these travel destinations would you pick?", "Hot take: pineapple on pizza?"). After voting, results are revealed to the pod.
   - Activities are designed to reveal personality, values, humor, and compatibility in a low-pressure group setting.

3. **Interaction**
   - **Activity responses**: Respond to ice-breakers and quizzes. See everyone's responses. React to or reply to others' responses in a thread.
   - **DMs**: At any time during the week, you can open a direct message conversation with any pod member. DMs are private between the two people.
   - **Match requests**: At any time, you can send a "match request" to a pod member. This is private — the other person doesn't know unless they also send one (double-blind). If both match, you're notified and become a "connection."

4. **End-of-week review (e.g. Sunday evening)**
   - You're shown all pod members and asked: "Would you like to match with anyone from this week?"
   - You can select zero or more people.
   - If a match is mutual (both selected each other, or one already sent a match request during the week), you become connections.
   - Connections persist beyond the pod — you can continue messaging indefinitely.

5. **Connections**
   - Mutual matches become "connections" — persistent relationships.
   - Connections have their own messaging thread (separate from pod DMs, which expire with the pod).
   - You can view connection profiles, continue chatting, or unmatch at any time.

### User profile

- Display name, age, photos (up to 6), bio (short text)
- Interests (tag-based, e.g., "hiking", "cooking", "live music", "board games")
- Prompts (2-3 profile prompts with answers, similar to Hinge — e.g., "I'm convinced that...", "A perfect first date is...")
- Location (city-level, not precise)

### Preferences & filters (drive pod placement)

- **Age range**: min/max age slider
- **Location radius**: how far away pod members can be
- **Interests**: preferred shared interests (weighted, not hard filters)
- **Deal-breakers**: hard filters (e.g., smoking, must have/not have kids)
- **Gender preferences**: who you're interested in meeting (determines pod composition)

### Key screens / pages

| Route | Screen | Primary components used |
|-------|--------|------------------------|
| `/` | **Home** — Current pod overview | `PodView`, `PodMemberCard`, `PodCountdown` |
| `/pod` | **Pod detail** — Full pod view with member grid + activities | `PodView`, `PodMemberCard`, `IceBreakerCard`, `QuizCard` |
| `/pod/icebreaker` | **Ice-breaker** — Today's prompt + responses | `IceBreakerCard`, `ActivityThread` |
| `/pod/quiz` | **Quiz** — Today's quiz + results | `QuizCard`, `ActivityThread` |
| `/pod/member/:id` | **Pod member profile** — View a pod member's profile | `ProfilePreviewCard`, `MatchRequestButton`, `MatchRequestBadge` |
| `/messages` | **Messages** — List of DM conversations | `ConversationList` |
| `/messages/:id` | **DM thread** — Conversation with a pod member | `DirectMessageThread` |
| `/connections` | **Connections** — Persistent matched connections | `ConnectionList`, `ConnectionCard` |
| `/connections/:id` | **Connection profile** — A matched connection's profile | `ProfilePreviewCard`, `MatchCard` |
| `/week-review` | **Week review** — End-of-week matching prompt | `WeekEndReview`, `PodMemberCard`, `MatchRequestButton` |
| `/profile` | **Profile editor** — Edit your own profile | `DatingProfileEditor`, `PhotoGalleryUploader`, `InterestSelector` |
| `/preferences` | **Preferences** — Set matching preferences/filters | `PreferenceEditor`, `AgeRangeSelector`, `LocationRadiusSelector`, `DealBreakerSelector` |
| `/onboarding` | **Onboarding** — First-time setup flow | `DatingProfileEditor`, `PhotoGalleryUploader`, `InterestSelector`, `PreferenceEditor` |

### Complete component inventory

The PRD should include a master table of all components needed, organized as:

**Kept from existing scaffolds (8):**
- MatchCard, MatchList, ProfilePreviewCard, DatingProfileEditor, InterestSelector, PhotoGalleryUploader, LocationRadiusSelector, BlockUserModal

**Removed from existing scaffolds (4):**
- SwipeDeck, SwipeCard, BoostBadge, SuperLikeIndicator

**New components (18):**
- PodView, PodMemberCard, PodCountdown, IceBreakerCard, QuizCard, ActivityThread, MatchRequestButton, MatchRequestBadge, WeekEndReview, DirectMessageThread, ConversationList, ConnectionCard, ConnectionList, PreferenceEditor, AgeRangeSelector, DealBreakerSelector, PodIntro, SafetyReportModal

**Total: 26 components** (8 kept + 18 new)

### Safety & moderation

- `BlockUserModal` — block a user (removes from your view, they can't DM you)
- `SafetyReportModal` — report inappropriate behavior
- All DMs and activity responses are subject to moderation
- Pod members can be removed by moderation mid-week

### Stretch goals (note in PRD but out of scope for initial build)

- "Reunion pods" — opt in to be re-podded with someone from a past week
- Pod "vibes" — anonymous end-of-week survey on how the pod felt
- Icebreaker voting — pod members can vote on which icebreaker they want
- Voice/video prompts — respond to ice-breakers with short audio or video clips
- "Wingman" mode — a friend can view your pod and nudge you toward matches

---

## Execution order

1. First, write the PRD (`examples/dating/PRODUCT.md`) — this is the source of truth
2. Then create the example app skeleton (`examples/dating/` — all config files, router, brand, placeholders)
3. Then update `src/dating/` — remove 4 obsolete components, add 18 new stubs, update barrel exports

---

## Important notes

- **Do NOT implement** any page components, screens, or real UI. Pages in the example app should be minimal placeholders (component name in text).
- **Do NOT implement** the new component stubs beyond the standard scaffold pattern (styled frames + compound sub-components where noted).
- Follow all patterns established in the existing codebase (see `examples/volta/` for example app patterns, see existing `src/dating/` stubs for scaffold patterns).
- Follow the brand/theme pattern from `examples/volta/src/theme/voltaBrand.ts` — full 12-step palettes, shadows, radius tokens, animation config.
- Read `AI_CONSTITUTION.md` and `DESIGN_CONSTITUTION.md` at repo root before making any changes (as required by CLAUDE.md).
- The working app name "Kinship" and the term "pod" are intentional choices. Use them consistently throughout.
