<!-- auto-queue -->
# Commit History
- `e8cec3e` — fix(Button): use styledHtml to render real `<button>` element
- `8670901` — merge commit

# Fix Button: eliminate wrapper div, put all styles on `<button>` element

## Problem — CRITICAL

The current Button renders this HTML:
```html
<button type="button" style="background: none; border: none; padding: 0px; display: inline-flex; cursor: pointer;">
  <div animation="fast" class="_bg-color10 _ai-center _jc-center _btlr-t-radius-4 ...many tamagui classes...">
    <span class="is_Text font_body ...">Solid</span>
  </div>
</button>
```

The `<button>` is an empty wrapper. ALL visual styles (background, padding, border-radius, hover, press, focus) are on the inner `<div>`. This is wrong — styles must be on the `<button>` itself.

## Root Cause (verified from source)

In `@tamagui/web/dist/cjs/styled.cjs`:
- `styled(XStack, { tag: 'button' })` → `tag` goes to `defaultProps`, NOT to `staticConfig.Component`. The element stays `<div>`.
- `styledHtml('button', opts)` → sets `Component: 'button'` in `staticConfig` → renders actual `<button>`.
- `styled.button(opts)` is a Proxy that calls `styledHtml('button', opts)`. Same result.

## Solution

Replace `ButtonFrame = styled(XStack, {...})` with `const ButtonFrame = styled.button({...})` (or `styledHtml('button', {...})` from `@tamagui/web`). This renders `<button class="tamagui-styles">` directly — no wrapper, no inner div.

## Implementation

### Step 1: Replace the styled definition

Replace:
```tsx
const ButtonFrame = styled(XStack, {
  alignItems: 'center',
  justifyContent: 'center',
  borderRadius: '$4',
  cursor: 'pointer',
  gap: '$1.5',
  focusWithinStyle: { ... },
  pressStyle: { ... },
  animation: 'fast',
  variants: { ... },
  defaultVariants: { ... },
})
```

With:
```tsx
const ButtonFrame = styled.button({
  // XStack defaults that styled.button() does NOT inherit:
  display: 'inline-flex',
  flexDirection: 'row',
  boxSizing: 'border-box',

  // Reset browser button defaults:
  appearance: 'none',
  border: 'none',
  background: 'none',
  padding: 0,
  margin: 0,
  fontFamily: 'inherit',

  // Original ButtonFrame styles:
  alignItems: 'center',
  justifyContent: 'center',
  borderRadius: '$4',
  cursor: 'pointer',
  gap: '$1.5',

  focusWithinStyle: {
    outlineWidth: 2,
    outlineOffset: 2,
    outlineColor: '$outlineColor',
    outlineStyle: 'solid',
  },

  pressStyle: {
    opacity: 0.85,
    scale: 0.98,
  },

  animation: 'fast',

  variants: {
    variant: {
      solid: {
        backgroundColor: '$color10',
        borderWidth: 0,
        hoverStyle: { backgroundColor: '$color11' },
      },
      outline: {
        backgroundColor: 'transparent',
        borderWidth: 1,
        borderColor: '$borderColor',
        hoverStyle: { backgroundColor: '$backgroundHover' },
      },
      ghost: {
        backgroundColor: 'transparent',
        borderWidth: 0,
        hoverStyle: { backgroundColor: '$backgroundHover' },
      },
    },
    size: {
      sm: { paddingVertical: '$1', paddingHorizontal: '$3', height: '$3.5' },
      md: { paddingVertical: '$2', paddingHorizontal: '$4', height: '$4' },
      lg: { paddingVertical: '$3', paddingHorizontal: '$5', height: '$4.5' },
    },
    disabled: {
      true: { opacity: 0.5, cursor: 'not-allowed', pointerEvents: 'none' },
    },
  },
  defaultVariants: {
    variant: 'solid',
    size: 'md',
  },
})
```

If TypeScript complains about `styled.button`, add `// @ts-expect-error Tamagui v2 RC` or switch to:
```tsx
import { styledHtml } from '@tamagui/web'
const ButtonFrame = styledHtml('button', { ... })
```

### Step 2: Remove the native `<button>` wrapper

In the `ButtonBase` component, remove the native `<button>` wrapper entirely. Pass its props directly to `<ButtonFrame>`:

Before:
```tsx
<button ref={ref} type="button" disabled={isDisabled} aria-busy={loading || undefined}
  onClick={isDisabled ? undefined : onPress} style={{background:'none',...}}>
  <ButtonFrame {...props} variant={variant} size={size} disabled={isDisabled}>
    {children}
  </ButtonFrame>
</button>
```

After:
```tsx
<ButtonFrame
  ref={ref}
  type="button"
  disabled={isDisabled}
  aria-busy={loading || undefined}
  onClick={isDisabled ? undefined : onPress}
  {...props}
  variant={variant}
  size={size}
>
  {loading ? (<><Spinner size="small" /><VisuallyHidden>Loading</VisuallyHidden></>) : children}
</ButtonFrame>
```

Note: `ref` was `HTMLButtonElement` — it should still work since `ButtonFrame` is now a `<button>`.

### Step 3: MANDATORY verification

After making the changes, run the kitchen-sink example and inspect the Button's HTML. The expected output is:
```html
<button type="button" class="_bg-color10 _ai-center _jc-center ...tamagui classes...">
  <span class="is_Text ...">Solid</span>
</button>
```

There must be NO inner `<div>` between the `<button>` and the `<span>` text. If there is, the approach failed — fall back to `import { styledHtml } from '@tamagui/web'` and use `styledHtml('button', {...})` directly.

### Step 4: If both approaches fail (nuclear fallback)

If neither `styled.button()` nor `styledHtml('button', ...)` produce a `<button>` with styles, then abandon the Tamagui `styled` system for the button frame entirely. Instead:
1. Keep the styled component but use it only for style CLASS extraction
2. Use `useTheme()` from `tamagui` to get resolved token values at runtime
3. Create a plain React `<button>` with className from the styled component

This is a last resort — `styledHtml` should work based on the source code analysis.

## Scope

- `packages/components/Button/Button.tsx`
