<!-- auto-queue -->
<!-- depends-on: 008, 009, 010, 011, 012, 013, 014, 015, 016 -->
# Comprehensive UI Library Review: shadcn/ui Parity, Quality, and Customizability

## Goal

Perform a thorough review of `@vlting/ui` against shadcn/ui as a benchmark. Produce a structured report at `.ai-queue/_docs/review-shadcn-parity.md` covering component coverage gaps, front-of-frontend quality, theming/customizability, and API design. Then queue follow-up implementation tasks based on findings.

**This task depends on 008–016** (all spec migration and creation tasks). By the time this runs, every component and primitive should have a unified `spec.md` governance file.

## Context

### What We Have (46 components, 16 primitives)

**Exported components (43):**
Accordion, Alert, AlertDialog, Avatar, Breadcrumb, Button, ButtonGroup, Calendar, Card, Carousel, Checkbox, Collapsible, Combobox, Command, ContextMenu, DatePicker, DateRangePicker, Dialog, Drawer, DropdownMenu, Form, HoverCard, Input, InputOTP, Loader, Menubar, NativeSelect, NavigationMenu, Pagination, Progress, RadioGroup, Resizable, ScrollArea, Select, Sidebar, Slider, Switch, Tabs, Textarea, Toast, Toggle, Tooltip, Typography

**Internal/unexported (3):** Menu, Popover, Sheet

**Primitives (16):**
AspectRatio, Badge, Box, Divider, Heading, Icon, Kbd, Label, Portal, Separator, Skeleton, Spacer, Spinner, Stack/VStack/HStack, Text, VisuallyHidden

**Design tokens layer:** 4 brand presets (default, fun, posh, shadcn), `BrandDefinition` factory, 12-step palettes, semantic sub-themes, shadow scale, full typography tokens

### What shadcn/ui Has (~57 entries)

**Components shadcn has that we ALSO have (good coverage):**
Accordion, Alert, AlertDialog, AspectRatio, Avatar, Badge, Breadcrumb, Button, ButtonGroup, Calendar, Card, Carousel, Checkbox, Collapsible, Combobox, Command, ContextMenu, DatePicker, Dialog, Drawer, DropdownMenu, Form, HoverCard, Input, InputOTP, Kbd, Label, Menubar, NavigationMenu, Pagination, Progress, RadioGroup, Resizable, ScrollArea, Select, Separator, Sidebar, Skeleton, Slider, Switch, Tabs, Textarea, Toast, Toggle, ToggleGroup, Tooltip, Typography

**Components shadcn has that we're MISSING or have as internal-only:**
1. **Table** — Full semantic table (Table, TableHeader, TableBody, TableRow, TableCell, etc.) — we have NOTHING for tables
2. **Sheet** — Edge-sliding panel (we have it internally but don't export it)
3. **Popover** — Floating content anchored to trigger (we have it internally but don't export it)
4. **Field** — Composable accessible form field wrapper (Field, FieldLabel, FieldDescription, FieldError) — we have Form but no standalone Field
5. **InputGroup** — Input with addons/decorations (InputGroupAddon, InputGroupButton) — we have Input but no grouping
6. **Item** — Generic list item layout (ItemMedia, ItemContent, ItemTitle, ItemDescription, ItemActions) — we don't have this
7. **Empty** — Empty state display pattern (EmptyMedia, EmptyTitle, EmptyDescription) — we don't have this
8. **Direction** — RTL/LTR context provider — we don't have this
9. **Chart** — Data visualization helpers (wraps Recharts) — we don't have this
10. **Sonner** — Modern toast system (shadcn deprecated their Radix Toast in favor of Sonner) — we still use the older Toast pattern

**Components we have that shadcn DOESN'T:**
- DateRangePicker (separate from DatePicker)
- NativeSelect (separate from Select)
- Loader (Spinner alias)
- Divider (separate from Separator)
- Spacer, Box, Portal, VisuallyHidden, Heading, Text, Icon (primitives layer — shadcn uses Tailwind classes for these)

### Known Quality Gaps (pre-existing)

- **Zero test files** — no `.test.tsx` anywhere in the codebase
- **Tamagui v2 RC workarounds** — `@ts-expect-error` on every styled() call, ComponentType casts everywhere
- **`useFocusTrap` deprecated** but still exported
- **No RTL support** infrastructure
- **Accessibility** — present in some components (aria attributes, semantic HTML, focus visible), but untested and unaudited

## Instructions

### Part 1: Read All Governance Documents

Before starting the review, read these files to understand quality expectations:
- `AI_CONSTITUTION.md`
- `DESIGN_CONSTITUTION.md`
- `packages/QUALITY_BASELINE.md`
- `packages/_templates/component.spec.template.md`
- `.ai-queue/_docs/front-of-frontend-guide.md`

### Part 2: Component Gap Analysis

Produce a table comparing every shadcn/ui component against our library. For each:
- **Status**: Has (exported), Has (internal), Missing
- **Priority**: P0 (must-have for any app), P1 (common), P2 (specialized)
- **Effort estimate**: S (small — simple styled component), M (medium — compound with some logic), L (large — complex state/behavior)
- **Notes**: Any relevant context (e.g., "we have this but API differs significantly")

Focus especially on the 10 missing components listed above. For each, assess:
- Is this component relevant for cross-platform (web + React Native)?
- Should it be a full component or a pattern/guide?
- What's the Tamagui-native approach (vs shadcn's Radix + Tailwind approach)?

### Part 3: Front-of-Frontend Quality Audit

For each existing component (prioritize the most-used ones), evaluate against the `QUALITY_BASELINE.md` and `front-of-frontend-guide.md` criteria:

1. **Semantic HTML**: Does it render the correct elements? (e.g., `<button>`, `<nav>`, `<dialog>`)
2. **DOM depth**: Is nesting ≤3 levels within the component?
3. **Accessibility**: ARIA attributes, keyboard navigation, focus management, screen reader support
4. **Focus indicators**: Visible focus styles on all interactive elements
5. **Token discipline**: All visual values from tokens (no hardcoded colors, sizes, etc.)
6. **Cross-platform**: Does it work on React Native, or is it web-only?
7. **TypeScript**: Are props well-typed? Does the consumer get good autocomplete?

Grade each component: A (excellent), B (good, minor issues), C (functional but needs work), D (significant issues), F (broken/unusable).

Don't audit ALL 46 components in depth — focus on the top ~20 most commonly used ones:
Button, Input, Textarea, Select, Checkbox, Switch, RadioGroup, Dialog, AlertDialog, Card, Tabs, Accordion, Form, Toast, Avatar, Badge, Tooltip, DropdownMenu, NavigationMenu, Sidebar

### Part 4: Theming & Customizability Audit

Review the `BrandDefinition` → `createBrandConfig()` → Tamagui config pipeline:

1. **Can every visual aspect be themed?** Check if all components use `$token` references (not hardcoded values)
2. **Are the 4 brand presets meaningfully different?** Read `default.ts`, `fun.ts`, `posh.ts`, `shadcn.ts` and compare
3. **Can a consumer create a custom brand?** Is the `BrandDefinition` interface well-documented and complete?
4. **Component themes**: Do components use Tamagui's component theme system (`theme_Button`, etc.) for per-component customization?
5. **Dark mode**: Does every component look correct in both light and dark themes?
6. **Gaps**: Any components that bypass the theming system?

### Part 5: API Design Comparison

Compare our component APIs against shadcn/ui's patterns. For each major component:

1. **Compound component pattern**: Do we use `Dialog.Trigger`, `Dialog.Content` (dot notation) vs shadcn's flat imports (`DialogTrigger`, `DialogContent`)? Which is more ergonomic for our use case?
2. **Prop naming**: Are our prop names consistent with each other and with common conventions?
3. **Variant system**: How do we handle variants (size, color, style) vs how shadcn does it?
4. **Controlled vs uncontrolled**: Do all form components support both patterns?
5. **Composition**: Can components be composed freely, or are they too opinionated?
6. **Mobile-specific considerations**: Any API decisions that work on web but break on React Native?

### Part 6: Write the Report

Create `.ai-queue/_docs/review-shadcn-parity.md` with this structure:

```markdown
# @vlting/ui — shadcn/ui Parity Review
**Date:** YYYY-MM-DD
**Reviewed against:** shadcn/ui (as of early 2026)

## Executive Summary
(3-5 bullet points: key findings and top priorities)

## 1. Component Coverage Gap Analysis
(Table from Part 2)

## 2. Front-of-Frontend Quality Grades
(Table from Part 3 with per-component grades)

## 3. Theming & Customizability Assessment
(Findings from Part 4)

## 4. API Design Comparison
(Findings from Part 5)

## 5. Prioritized Recommendations
(Ordered list of what to do next, grouped by effort)

### Quick Wins (S — can be done in a single task)
### Medium Effort (M — a few sessions)
### Large Initiatives (L — epic-level)
```

### Part 7: Queue Follow-Up Work

Based on the review findings, use `q {description}` (via the q skill) to queue the highest-priority follow-up tasks. These should be concrete, actionable instruction files — not vague "improve quality" tasks.

Likely candidates:
- Export Sheet and Popover as public components
- Create Table component
- Create Field component
- Create Empty state component
- Fix specific quality issues found in the audit
- Address theming gaps

**Do NOT queue more than 5 follow-up tasks** — focus on the highest-impact items. Larger initiatives should be noted in the report for future `/epic` runs.

## Scope

Files to **create**:
- `.ai-queue/_docs/review-shadcn-parity.md`

Files to **read** (not modify):
- `packages/design-tokens/**/*`
- `packages/primitives/**/*`
- `packages/components/**/*`
- `packages/hooks/**/*`
- `packages/utils/**/*`
- `packages/QUALITY_BASELINE.md`
- `packages/_templates/component.spec.template.md`
- `.ai-queue/_docs/front-of-frontend-guide.md`
- `AI_CONSTITUTION.md`
- `DESIGN_CONSTITUTION.md`
- `config/tamagui.config.ts`
- `src/provider/Provider.tsx`
- `src/index.ts`
- All `*.spec.md` files across the codebase

Files that **may be created** (follow-up tasks):
- `.ai-queue/018.md` through `.ai-queue/022.md` (up to 5 follow-up tasks)
